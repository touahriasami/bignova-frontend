<div class="space-y-10">
  <div class="flex items-center justify-end gap-x-4">
    <label class="input">
      <svg
        class="h-[1em] opacity-50"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 24 24"
      >
        <g
          stroke-linejoin="round"
          stroke-linecap="round"
          stroke-width="2.5"
          fill="none"
          stroke="currentColor"
        >
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.3-4.3"></path>
        </g>
      </svg>
      <input type="search" class="grow" placeholder="Search" />
    </label>
    <button class="btn btn-primary" onclick="addClient.show()">
      add client
    </button>
  </div>
  <div class="overflow-x-auto">
    <table class="table table-xs">
      <thead>
        <tr>
          <!-- <th></th> -->
          <th>Name</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Address</th>
          <th>Created at</th>
          <th>actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let client of clients$ | async">
          <!-- <th>{{client._id}}</th> -->
          <td>{{client.name}}</td>
          <td>{{client.email}}</td>
          <td>{{client.phone}}</td>
          <td>{{client.address}}</td>
          <td>{{client.createdAt}}</td>
          <td class="space-x-2">
            <button class="btn btn-sm btn-info" (click)="editClient(client)">
              Edit
            </button>
            <button
              class="btn btn-sm btn-error"
              (click)="deleteClient(client._id!)"
            >
              <span
                class="loading loading-dots loading-sm"
                *ngIf="(client._id == selectedClientId) && loading; else notDeleted"
              ></span>
              <ng-template #notDeleted>Delete</ng-template>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<dialog id="addClient" class="modal">
  <app-add-client />
</dialog>

<dialog id="updateClient" class="modal">
  <app-update-client [client]="editClientData" />
</dialog>
